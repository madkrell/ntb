# Tailwind CSS v4 Setup

This project uses **Tailwind CSS v4** with the standalone CLI (no Node.js required).

## Initial Setup (First Time Only)

Download the Tailwind CSS standalone CLI binary:

```bash
# macOS ARM64 (M1/M2/M3)
curl -sLO https://github.com/tailwindlabs/tailwindcss/releases/latest/download/tailwindcss-macos-arm64
chmod +x tailwindcss-macos-arm64
mv tailwindcss-macos-arm64 tailwindcss

# macOS x64 (Intel)
curl -sLO https://github.com/tailwindlabs/tailwindcss/releases/latest/download/tailwindcss-macos-x64
chmod +x tailwindcss-macos-x64
mv tailwindcss-macos-x64 tailwindcss

# Linux ARM64
curl -sLO https://github.com/tailwindlabs/tailwindcss/releases/latest/download/tailwindcss-linux-arm64
chmod +x tailwindcss-linux-arm64
mv tailwindcss-linux-arm64 tailwindcss

# Linux x64
curl -sLO https://github.com/tailwindlabs/tailwindcss/releases/latest/download/tailwindcss-linux-x64
chmod +x tailwindcss-linux-x64
mv tailwindcss-linux-x64 tailwindcss

# Windows x64 (PowerShell)
# Download from: https://github.com/tailwindlabs/tailwindcss/releases/latest
# Rename to tailwindcss.exe
```

Verify installation:
```bash
./tailwindcss --help
```

**Note:** The `tailwindcss` binary is not committed to the repository (it's in `.gitignore`). Each developer downloads it locally.

## Quick Start

### Development Mode

Run **both** commands in separate terminals:

```bash
# Terminal 1: Run Tailwind in watch mode (rebuilds CSS on file changes)
./tailwindcss -i style/input.css -o style/output.css --watch

# Terminal 2: Run Leptos development server
cargo leptos watch
```

The Tailwind CLI will watch your Rust files and rebuild the CSS whenever you add/remove Tailwind classes.

### Production Build

```bash
# Build optimized CSS
./tailwindcss -i style/input.css -o style/output.css --minify

# Build Leptos application
cargo leptos build --release
```

## Configuration

### Input CSS File: `style/input.css`

```css
@import "tailwindcss";

@theme {
  /* Custom theme variables */
  /* --color-brand: #3b82f6; */
}
```

**Tailwind v4 uses CSS-first configuration** - no `tailwind.config.js` needed!

### Output CSS File: `style/output.css`

Generated by Tailwind CLI (64KB). This is what Leptos uses (referenced in `Cargo.toml`).

### Cargo.toml Configuration

```toml
style-file = "style/output.css"
```

## Using Tailwind in Leptos Components

Apply Tailwind utility classes directly to Leptos view macros:

```rust
view! {
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-4xl font-bold text-blue-600 mb-4">
            "Hello World"
        </h1>
        <p class="text-lg text-gray-700">
            "Tailwind CSS v4 + Leptos 0.8"
        </p>
    </div>
}
```

## Customization

### Custom Colors

Add to `style/input.css`:

```css
@theme {
  --color-brand: #3b82f6;
  --color-accent: #10b981;
}
```

Use in components: `class="bg-brand text-accent"`

### Custom Utilities

Add to `style/input.css`:

```css
@layer utilities {
  .scroll-smooth {
    scroll-behavior: smooth;
  }
}
```

## Content Detection

Tailwind v4 **automatically detects** content paths - no configuration needed!

It scans:
- `src/**/*.rs` (Leptos components)
- `*.html`
- And generates only the classes you actually use

## Updating Tailwind CLI

The `tailwindcss` binary is stored locally (in `.gitignore`). To update to a newer version:

```bash
# Download latest version (macOS ARM64 example)
curl -sLO https://github.com/tailwindlabs/tailwindcss/releases/latest/download/tailwindcss-macos-arm64
chmod +x tailwindcss-macos-arm64
mv tailwindcss-macos-arm64 tailwindcss

# Check version
./tailwindcss --help
```

**Current version used:** v4.1.16 (or latest from releases)

## Workflow Tips

1. **Start both watchers:** Run Tailwind and Leptos watch together
2. **Hot reload works:** Changes to Rust files trigger both Tailwind and Leptos rebuilds
3. **Minify for production:** Use `--minify` flag for smaller CSS bundles
4. **Check console:** Tailwind CLI shows which classes were detected/generated

## Troubleshooting

**Classes not applying?**
- Make sure Tailwind CLI is running in watch mode
- Check browser DevTools that `/pkg/ntv.css` is loaded
- Verify `style/output.css` was updated (check timestamp)

**Build fails?**
- Ensure `style/output.css` exists (run Tailwind CLI first)
- Check `Cargo.toml` points to correct CSS file

**Performance?**
- Output CSS is only ~64KB with all utilities
- Tailwind v4 is extremely fast (rebuilds in ~150-200ms)
